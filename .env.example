## Copy to .env and set real secrets for production.
## Never use defaults in production.

# Core
PORT=3001

# JWT (REQUIRED: must be strong and unique)
JWT_SECRET=replace-with-strong-random-secret

# Postgres (auth database)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=iiot_platform
POSTGRES_USER=admin
POSTGRES_PASSWORD=0039

# TimescaleDB (telemetry)
TIMESCALE_HOST=timescaledb
TIMESCALE_PORT=5432
TIMESCALE_DB=iiot_telemetry
TIMESCALE_USER=admin
TIMESCALE_PASSWORD=0039

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# Rate limit / cache
RATE_LIMIT_DEVICE_PER_MIN=12
RATE_LIMIT_DEVICE_PER_SEC=5
RATE_LIMIT_SLOT_PER_MIN=12
RATE_LIMIT_FAIL_OPEN=true
CACHE_TTL_SECONDS=0

# Manufacturing (device bootstrap/secret)
MANUFACTURING_MASTER_KEY=replace-with-strong-random-secret
BOOTSTRAP_MAX_SKEW_SECS=300

# EMQX -> Go API webhook authentication (service key)
EMQX_WEBHOOK_API_KEY=replace-with-strong-random-webhook-key

# Observability
PROMETHEUS_RETENTION_TIME=15d
# Telegram on-call (critical alerts)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_POLL_SECONDS=3
TELEGRAM_WATCH_SECONDS=20
# Optional fallback webhook (legacy name ALERT_WEBHOOK_URL still supported)
ALERT_FALLBACK_WEBHOOK_URL=
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Server shutdown
SHUTDOWN_TIMEOUT_SECS=30

# CORS (comma-separated). Leave empty to disable CORS headers.
# Example: CORS_ALLOWED_ORIGINS=http://localhost:3000,https://app.example.com
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Authorization,Content-Type
